<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="http://jekyllrb.com" version="3.4.0">Jekyll</generator><link href="/blog/feed.xml" rel="self" type="application/atom+xml" /><link href="/blog/" rel="alternate" type="text/html" /><updated>2017-04-19T11:49:46-04:00</updated><id>/blog/</id><title type="html">Ed Burns Blog</title><subtitle>Ed Burns blogs here, mostly about Java and software, but sometimes about other random things.
</subtitle><entry><title type="html">Please test Mojarra 2.3.1-SNAPSHOT with Servlet 4.0 Server Push</title><link href="/blog/2017/04/18/please-test-mojarra-2_3_1-with-server-push.html" rel="alternate" type="text/html" title="Please test Mojarra 2.3.1-SNAPSHOT with Servlet 4.0 Server Push" /><published>2017-04-18T16:00:00-04:00</published><updated>2017-04-18T16:00:00-04:00</updated><id>/blog/2017/04/18/please-test-mojarra-2_3_1-with-server-push</id><content type="html" xml:base="/blog/2017/04/18/please-test-mojarra-2_3_1-with-server-push.html">&lt;p&gt;&lt;code&gt;Updated: 2017-04-19 11:46 -0500: Called out the need to use
exactly JDK 1.8.0_121 and why.&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;I still recommend JSF 2.3 EG member and major Mojarra
committer &lt;a href=&quot;http://arjan-tijms.omnifaces.org/p/jsf-23.html&quot;&gt;Arjan
Tijms'&lt;/a&gt; blog post for a feature overview of JSF 2.3, but this post
gives a brief look into a feature I consider a key validation of the two
Java EE 8 specs to which I contribute: Servlet 4.0 and JSF 2.3.  The
feature is HTTP/2 Server Push, and it's the biggest new feature in
Servlet 4.0 in terms of API impact.  This blog post shows how Mojarra
2.3.1-SNAPSHOT uses Servlet 4.0 Server Push and solicits testing of this
feature for eventual inclusion in Mojarra 2.3.1, and hopefully into
  GlassFish 5.0.&lt;/p&gt;

&lt;h2&gt;The Origin of the Feature&lt;/h2&gt;

&lt;p&gt;Way back at
the &lt;a href=&quot;https://www.youtube.com/watch?v=fZR-HRP7HtI&quot;&gt;beginning of
Servlet 4.0&lt;/a&gt; in July 2014, when HTTP/2 itself was not even yet final,
the idea of using Server Push for JSF was already apparent.  After all,
the whole point of the feature, from the HTTP/2 protocol level, is to
increase the perceived performance of web pages by allowing the server
to start sending the assets of the web page before the browser has even
started parsing the web page to discover what assets it needs.  (I like
to call this
the &lt;a href=&quot;http://www.usccb.org/bible/matthew/6#48006008&quot;&gt;Matthew
6:8&lt;/a&gt; feature of HTTP/2.)  Web Frameworks such as JSF are in a great
position to automatically leverage this feature because the act of
authoring the application causes the page author to explicitly indicate
at runtime which assets go with which pages.  In other words, JSF users
get this feature for free without having to change their app in the
  least.&lt;/p&gt;

&lt;h2&gt;The Specification of the Feature&lt;/h2&gt;

&lt;p&gt;The Servlet Expert Group, in particular Greg Wilkins, has crafted an
easy-to-use way to take advantage of Server Push: simply ask the
current &lt;code&gt;HttpServletRequest&lt;/code&gt; for
a &lt;code&gt;newPushBuilder&lt;/code&gt;, manipulate
the &lt;a href=&quot;https://maven.java.net/service/local/repositories/releases/archive/javax/servlet/javax.servlet-api/4.0.0-b05/javax.servlet-api-4.0.0-b05-javadoc.jar/!/javax/servlet/http/PushBuilder.html&quot;&gt;PushBuilder&lt;/a&gt;
API as desired, and then call &lt;code&gt;push()&lt;/code&gt; to initiate sending
  the bytes of the resource to the client.&lt;/p&gt;

&lt;p&gt;From the JSF side, the use of the feature is not captured in the
JavaDoc.  Rather, it is in the spec PDF section 2.2.6.  This section is
a high level overview of what happens in the Render Response phase of
the request processing lifecycle.  We intentionally left the push
requirements very high level to allow maximum latitude in
implementation.  We also had to specify it well in advance of Servlet
4.0 going final due to scheduling constraints with finishing JSF
  2.3.&lt;/p&gt;

&lt;h2&gt;The Implementation of the Feature&lt;/h2&gt;

&lt;p&gt;I am very thankful to my co-spec
lead &lt;a href=&quot;https://www.linkedin.com/in/shingwaichan/&quot;&gt;Dr. Shing Wai
Chan&lt;/a&gt; for implementing the GlassFish side of this feature,
and &lt;a href=&quot;http://www.notshabby.net/&quot;&gt;Ryan Lubke&lt;/a&gt; for implementing
the underlying Grizzly support for HTTP/2, including push.  Ryan had to
do several last minute tweaks to get the implementation this far, and
  it's not 100% done yet.  That's why I'm hoping you'll try it.&lt;/p&gt;

&lt;p&gt;On the JSF side, I modified the implementation
of &lt;code&gt;ExternalContext.encodeResourceURL()&lt;/code&gt; to push the resource
using the &lt;code&gt;PushBuilder&lt;/code&gt; API.  Because our tests run Mojarra
against both GlassFish 4.1.1 and GlassFish 5.0 trunk, I had to code it
such that the feature only kicks in if Servlet 4.0 is actually
  available.&lt;/p&gt;

&lt;h2&gt;Testing the Feature&lt;/h2&gt;

&lt;p&gt;To test the feature, you must first make sure you are using exactly
JDK 1.8.0_121, no more no less.  The reason for this precise requirement
is explained in this
email &lt;a href=&quot;https://java.net/projects/servlet-spec/lists/jsr369-experts/archive/2017-04/message/43&quot;&gt;to
the Servlet EG&lt;/a&gt;.  Then, download the GlassFish nightly from
&amp;lt;&lt;a href=&quot;http://download.oracle.com/glassfish/5.0/nightly/&quot;&gt;http://download.oracle.com/glassfish/5.0/nightly/&lt;/a&gt;&amp;gt;
(from 2017-04-17 or later) and replace the &lt;code&gt;javax.faces.jar&lt;/code&gt;
in the &lt;code&gt;modules&lt;/code&gt; directory
with &lt;a href=&quot;https://maven.java.net/service/local/repositories/snapshots/content/org/glassfish/javax.faces/2.3.1-SNAPSHOT/javax.faces-2.3.1-20170417.161359-6.jar&quot;&gt;&lt;code&gt;org.glassfish:javax.faces:2.3.1-SNAPSHOT&lt;/code&gt;&lt;/a&gt;
(or later).&lt;/p&gt;

&lt;p&gt;Once your GlassFish has been patched to have the latest Mojarra,
deploy an app that has lots of resources.  I suggest
the &lt;a href=&quot;http://repository.primefaces.org/org/primefaces/showcase/6.0/showcase-6.0.war&quot;&gt;PrimeFaces
6.0 showcase&lt;/a&gt;.  Once deployed the easiest way to see HTTP/2 in action
is to use Chrome with Developer Tools to hit
&amp;lt;https://localhost:8181/showcase-6.0/index.xhtml&amp;gt; Note that you
have to jump through some extra hoops because Chrome finds it easiest to
  only support HTTP/2 over TLS.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/blog/assets/20170418-chrome-https-localhost.png&quot; alt=&quot;Image of Chrome Your connection is not private warning&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/blog/assets/20170418-chrome-https-localhost-02.png&quot; alt=&quot;Image of Chrome Your connection is not private warning&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Once the PrimeFaces is being served over HTTPS to Chrome from your
patched GlassFish 5.0, you can visit the &quot;Compare&quot; widget within the
&quot;Multimedia&quot; section.  In another Chrome tab, open up
&amp;lt;chrome://net-internals/#events&amp;q=type:HTTP2_SESSION&amp;gt;.  Find the
lowest &lt;code&gt;HTTP2_SESSION&lt;/code&gt; item to localhost:8181 in the list and
check the checkbox.  Do a find in page for &lt;code&gt;lara-ps3&lt;/code&gt;.  You
  can see that this image was pushed with server push, as shown next.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/blog/assets/20170418-net-internals-push.png&quot;&gt;&lt;img width=&quot;1024&quot; height=&quot;200&quot; src=&quot;/blog/assets/20170418-net-internals-push.png&quot; alt=&quot;Image of Chrome Your connection is not private warning&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You can use find in page to look for other hits
on &lt;code&gt;HTTP2_SESSION_RECV_PUSH_PROMISE&lt;/code&gt; to see resources being
  pushed.&lt;/p&gt;

&lt;p&gt;Clicking over to View-&amp;gt;Developer-&amp;gt;Developer Tools, click the
&quot;Disable cache&quot; checkbox and reload the page.  Look at the Waterfall
column ta see the impact that push has on page load times.  You can see
that some of the resources are being delivered before the page even
finishes loading.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/blog/assets/20170418-devtools-push.png&quot;&gt;&lt;img width=&quot;1024&quot; height=&quot;273&quot; src=&quot;/blog/assets/20170418-devtools-push.png&quot; alt=&quot;Image of Chrome Your connection is not private warning&quot; /&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;It is beyond the scope of this article to explore this vital aspect
of push, but I hope someone else will do so.  After all, what's the
point of the
feature &lt;a href=&quot;https://www.fastcompany.com/1825005/how-one-second-could-cost-amazon-16-billion-sales&quot;&gt;if
it does not make page load times seem faster&lt;/a&gt;.&lt;/p&gt;

&lt;h2&gt;Summary&lt;/h2&gt;

This feature is still in SNAPSHOT form.  I need testing to verify it
works for some more cases.  If it causes any trouble at all, we may have
to put it behind a &lt;code&gt;com.sun.faces context-param&lt;/code&gt;.  Please
leave comments here with your findings.</content><author><name></name></author><summary type="html">Updated: 2017-04-19 11:46 -0500: Called out the need to use exactly JDK 1.8.0_121 and why.</summary></entry><entry><title type="html">Sun Ray GNOME Keyboard Stops Accepting Input</title><link href="/blog/2017/04/18/sun-ray-gnome-keyboard-stops-accepting-input.html" rel="alternate" type="text/html" title="Sun Ray GNOME Keyboard Stops Accepting Input" /><published>2017-04-18T11:00:00-04:00</published><updated>2017-04-18T11:00:00-04:00</updated><id>/blog/2017/04/18/sun-ray-gnome-keyboard-stops-accepting-input</id><content type="html" xml:base="/blog/2017/04/18/sun-ray-gnome-keyboard-stops-accepting-input.html">&lt;p&gt;I was happily using my Sun Ray session one day and then it stopped
accepting keyboard input.  Nothing I tried could make anything other
than the BEL sound happen.  After posting to an internal list at Oracle
carried over from the Sun days, the ever helpful and
venerable &lt;a href=&quot;https://twitter.com/alanc&quot;&gt;Alan Coopersmith&lt;/a&gt; clued
me in.  I must have held the shift key down for five seconds, turning on
the &quot;only accept long keypresses&quot; feature.  This is great for people
with Parkinson's but thankfully I'm not there yet.  But it's nice to
  know GNOME has my back.&lt;/p&gt;

&lt;p&gt;If you run into this problem you can disable it by going to
System::Preferences::Keyboard, in the Accessibility tab, and ensuring
the &quot;Slow Keys&quot; checkbox is not checked.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/blog/assets/20170418-gnome-keyboard-preferences-accessibility.png&quot; alt=&quot;Image of GNOME Keyboard Preferences Accessibility Tab with the slow keys checkbox not checked&quot; /&gt;&lt;/p&gt;

&lt;p&gt;You may also want to uncheck &quot;Accessibility features can be toggled
with keyboard shortcuts.&lt;/p&gt;</content><author><name></name></author><summary type="html">I was happily using my Sun Ray session one day and then it stopped accepting keyboard input. Nothing I tried could make anything other than the BEL sound happen. After posting to an internal list at Oracle carried over from the Sun days, the ever helpful and venerable Alan Coopersmith clued me in. I must have held the shift key down for five seconds, turning on the &quot;only accept long keypresses&quot; feature. This is great for people with Parkinson's but thankfully I'm not there yet. But it's nice to know GNOME has my back.</summary></entry><entry><title type="html">Chicago JUG / GOTO Meetup</title><link href="/blog/2017/04/04/cjug-goto-meetup.html" rel="alternate" type="text/html" title="Chicago JUG / GOTO Meetup" /><published>2017-04-04T09:00:00-04:00</published><updated>2017-04-04T09:00:00-04:00</updated><id>/blog/2017/04/04/cjug-goto-meetup</id><content type="html" xml:base="/blog/2017/04/04/cjug-goto-meetup.html">&lt;p&gt;I am honored to speak in such esteemed company with my fellow
NullPointers &lt;a href=&quot;http://twitter.com/javafxpert&quot;&gt;James Weaver&lt;/a&gt;
and &lt;a href=&quot;http://twitter.com/frankgreco&quot;&gt;Frank Greco&lt;/a&gt; at the generous
invitation of my good friend, and also
NullPointer &lt;a href=&quot;http://twitter.com/fguime&quot;&gt;Freddy Guime&lt;/a&gt;.  James
and Frank are collaborating on a machine learning related talk, while I
am sharing some things I've learned in using Mesos/Marathon as a
desktop-to-datacenter-to-cloud runtime environment.  I only have 30
minutes so I am putting the slides on &lt;a href=&quot;https://www.slideshare.net/EdBurns6/chicago-jug-goto-meetup&quot;&gt;SlideShare&lt;/a&gt; and the demo source
code is available &lt;a href=&quot;/blog/downloads/20170404-cjug-goto-meetup.zip&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;</content><author><name></name></author><summary type="html">I am honored to speak in such esteemed company with my fellow NullPointers James Weaver and Frank Greco at the generous invitation of my good friend, and also NullPointer Freddy Guime. James and Frank are collaborating on a machine learning related talk, while I am sharing some things I've learned in using Mesos/Marathon as a desktop-to-datacenter-to-cloud runtime environment. I only have 30 minutes so I am putting the slides on SlideShare and the demo source code is available here.</summary></entry><entry><title type="html">JavaLand 2017 gRPC 101</title><link href="/blog/2017/03/28/javaland-gprc-101.html" rel="alternate" type="text/html" title="JavaLand 2017 gRPC 101" /><published>2017-03-28T08:30:00-04:00</published><updated>2017-03-28T08:30:00-04:00</updated><id>/blog/2017/03/28/javaland-gprc-101</id><content type="html" xml:base="/blog/2017/03/28/javaland-gprc-101.html">&lt;p&gt;Raw nots from &lt;a href=&quot;http://twitter.com/saturnism&quot;&gt;Ray Tsang&lt;/a&gt;'s talk about &lt;a href=&quot;http://twitter.com/grpcio&quot;&gt;gRPC&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Finally was able to get to a session before it
  started.  &lt;a href=&quot;http://www.http2demo.io/&quot;&gt;HTTP/2 Demo.&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Gave definition of saturnism: lead poisoning.&lt;/p&gt;

&lt;p&gt;Trend: revisit: breaking down monolith into Microservices.  Or
creating microservices in greenfield.  A lot of overhead for this
  approach: distributed systems problems.  Need additional tooling.&lt;/p&gt;

&lt;p&gt;Referenced &lt;a href=&quot;http://www.ejbtutorial.com/&quot;&gt;CORBA tutorial
    here.&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;RPC has a bad rep.  But he spoke highly of RMI.  Everything just
works.  But you have to be in Java on both sides.  To fix this, we came
up with SOAP, which lead to REST.  Why RPC: efficient and strongly type.
REST: everything is CRUDy.  What about how to represent, for example, a
bank account transfer operation?  On REST, you also have to write client
  libraries.  RPC can be great if it is simple and interoperable.&lt;/p&gt;

&lt;p&gt;At Google, they use Stubby.  It does O(10&lt;super&gt;10&lt;/super&gt;).  They
wanted to open source Stubby.  Square used to have their own RPC thing.
They combined and made gRPC.  Owned by the cloud native foundation.  The
  G in GPRC means GRPC.&lt;/p&gt;

&lt;p&gt;Transport is in HTTP/2: binary protocol.  Gave a little talk over
HTTP/2 features: binary, streams, HPACK, PUSH.  Protobuffer 3.
  Marshalling and unmarshalling data.&lt;/p&gt;

&lt;p&gt;Showed a graph showing throughput/cpu core: binary is faster than
  text.  It is also better for battery life.&lt;/p&gt;

&lt;p&gt;gRPC supports: C++, Objective C, PHP, Java.&lt;/p&gt;

&lt;p&gt;Finished the slideware at 14 minutes in.&lt;/p&gt;

&lt;p&gt;Protofile is the IDL file.  There you define the message payloads,
  messages, etc.  Must define request and response payloads.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;

    syntax = &quot;proto3&quot;;

    package com.example.grpc;

    option java_multiple_files = true;

    enum Sentiment {
    HAPPY = 0;
    SAD = 1;
    }

    message HelloRequest {
    string firstname = 1;
    string lastmame = 2;
    int64 age = 3;
    Sentiment sentiment = 4;
    repeated string hobbies = 5;
    map&amp;lt;string, string&amp;gt; bagOfTricks = 6;
    
    }

    message HelloResponse {
    string greeting = 1;
    }

    service GreetingService {
    rpc greeting([stream] HelloRequest) returns ([stream] HelloResponse);
    }
    
&lt;/code&gt;  &lt;/pre&gt;

&lt;p&gt;To run it, include mvn dependencies.  There are also stub generation
  plugins.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;
    public class GreetingImpl extends GreetingServiceGrpc.GreetingServiceImplBase {
    public void greeting(HelloRequest, StreamObserver response);
    
    }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Automatically supports &lt;code&gt;onNext, onCompleted, onError&lt;/code&gt;.
All builder based.  &lt;/p&gt;

&lt;p&gt;The client uses channels.  Supports client side interceptors.
Supports load balancing.  Round robin.  Supports deadlines for calls.
This is kind of a built-in circuit breakers.  &lt;/p&gt;</content><author><name></name></author><summary type="html">Raw nots from Ray Tsang's talk about gRPC.</summary></entry><entry><title type="html">JavaLand 2017 Serverless AWS</title><link href="/blog/2017/03/28/javaland-serverless-aws.html" rel="alternate" type="text/html" title="JavaLand 2017 Serverless AWS" /><published>2017-03-28T08:00:00-04:00</published><updated>2017-03-28T08:00:00-04:00</updated><id>/blog/2017/03/28/javaland-serverless-aws</id><content type="html" xml:base="/blog/2017/03/28/javaland-serverless-aws.html">&lt;p&gt;Raw nots from Niko K&amp;ouml;bler's talk.&lt;/p&gt;

&lt;p&gt;Arrived late due to lunch choice.&lt;/p&gt;

&lt;p&gt;API Gateway.  Hides possible multiple service calls.  Kinda like
  ESB.&lt;/p&gt;

&lt;p&gt;DynamoDB. Fully managed NoSQL datasource.  Document oriented.  Pay by
  read/write/capacity units and used storage, not by time.&lt;/p&gt;

&lt;p&gt;Used with Amazon Alexa.  Programs in Alexa are called &quot;skills&quot;.&lt;/p&gt;

&lt;p&gt;Amazon Lambda has some competition: AzureFunctions, Google
CloudFunctions, IBM Bluemix with OpenWhisk.  Each offers different
  language bindings.&lt;/p&gt;

&lt;p&gt;Introducing the &lt;a href=&quot;http://serverless.com&quot;&gt;Serverless
    Framework&lt;/a&gt;.  Looks pretty clean.&lt;/p&gt;

&lt;p&gt;Showed how it looks using the AWS web UI.  Then went into postman and
  showed how to interact with the API.&lt;/p&gt;

&lt;p&gt;I liked how there is no Docker in this whole thing.&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;http://twitter.com/serverlessbuch&quot;&gt;@serverlessbuch&lt;/a&gt;.&lt;/p&gt;</content><author><name></name></author><summary type="html">Raw nots from Niko K&amp;ouml;bler's talk.</summary></entry><entry><title type="html">JavaLand 2017 Lambdas</title><link href="/blog/2017/03/28/javaland-lambda.html" rel="alternate" type="text/html" title="JavaLand 2017 Lambdas" /><published>2017-03-28T05:00:00-04:00</published><updated>2017-03-28T05:00:00-04:00</updated><id>/blog/2017/03/28/javaland-lambda</id><content type="html" xml:base="/blog/2017/03/28/javaland-lambda.html">&lt;p&gt;Raw nots from Simon Ritter's talk.&lt;/p&gt;

&lt;p&gt;We had support for some functional programming in JDK 1.0: anonymous
  inner classes.  Lambdas do it much more cleanly.&lt;/p&gt;

&lt;p&gt;You can use lambdas where ever the type is a &lt;code&gt;Functional
Interface&lt;/code&gt;.  It has a single abstract method: accept.&lt;/p&gt;

&lt;p&gt;A lambda looks like a method, but it is not associated with a class.
  Therefore you can't call it a method.&lt;/p&gt;

&lt;p&gt;&lt;code&gt;(parameters) -&amp;gt; body&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;There was a lot of debate of whether it should be =&amp;gt;.&lt;/p&gt;

&lt;p&gt;Lambdas are closures over values, not types.  This means state cannot
be modified in a lambda.  This means you can only refer to variables in
the surrounding scope, they have to be effectively final.  Effectively
means either explicitly marked final, or it's value cannot be
changeable.&lt;/p&gt;

&lt;p&gt;Method references let us reuse a method as a lambda expression.
Three different ways of using them.  Static method.  Instance method of
  an arbitrary type. Instance method of an existing type.&lt;/p&gt;


&lt;p&gt;Performance implications.  Anonymous inner classes force the compiler
to generate funny class names, type pollution, must be loaded at
runtime.  Originally, lambdas were implemented this way.  Better way is
to use invokedynamic.  Original idea of invokedymanic was to improve
performance of dynamically typed languages on the JVM.  Defers
implementation of the Lambda to the runtime.  It was the first thing
added to the JVM bytecode since Java 1.0.&lt;/p&gt;

&lt;p&gt;&lt;code&gt;java.lang.LambdaMetaFactory&lt;/code&gt; returns an instance of the
lambda functional interface type.  Can divide lambdas into two groups.
Non-capturing lambdas: no surrounding scope being used; simple
conversion to static method.  Capturing lambdas: does use surrounding
scope: static method with captured variables prepended as
  parameters or synthetic instance method of class using Lambda. &lt;/p&gt;

&lt;p&gt;Went over some impl performance differences between lambdas and
anonymous inner classes.  Also for capture vs. instantiation of
anonymous inner classes.  The latter has heap implications.  &lt;b&gt;Unused
lambdas have no overhead.  Non-capturing lambdas automatically optimise.
Method references are slightly more
optimal.  &lt;code&gt;-XX:+TieredCompilation&lt;/code&gt; gives beter
    lambdas.  &lt;/b&gt; This is the default.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Alonso Church, the Lambda Calculus (1936).  A way of having a
mathematical definition for having functions and calling them.  He was
  Alan Turing's PhD advisor.&lt;/p&gt;

&lt;p&gt;Java programmers are typically imperative programmers.  Functional
programming is not imperative: no side effects.  Lambda calculus and
Turing machines are equivalent.  What can we do &lt;b&gt;only&lt;/b&gt; using Lambda
  expressions?&lt;/p&gt;</content><author><name></name></author><summary type="html">Raw nots from Simon Ritter's talk.</summary></entry><entry><title type="html">JavaLand 2017 Greeting</title><link href="/blog/2017/03/28/javaland-intro.html" rel="alternate" type="text/html" title="JavaLand 2017 Greeting" /><published>2017-03-28T04:00:00-04:00</published><updated>2017-03-28T04:00:00-04:00</updated><id>/blog/2017/03/28/javaland-intro</id><content type="html" xml:base="/blog/2017/03/28/javaland-intro.html">&lt;p&gt;Fried Saacke, kicked off JavaLand 2017 today.  It's totally full, and
in a new theater within Fantasialand.  We have 110 lectures, 8 workshop
sessions, and 16 community activities this year.  He admitted that not
everything will go as smoothly as we might like, but we are doing the
  best.  The biggest practical challenge is throughput.&lt;/p&gt;

&lt;p&gt;He talked about DukeCon, which may be a separate conference, but
  currently is an online sidecar with JavaLand.&lt;/p&gt;

&lt;p&gt;Tobias Frech talked about the community activities: exchange with
  eachother.  In the Quantum show floor.&lt;/p&gt;

	&lt;ul&gt;

	  &lt;li&gt;&lt;p&gt;Java Innovation Lab
	  &lt;/p&gt;&lt;/li&gt;

	  &lt;li&gt;&lt;p&gt;Meet the JUGS
	  &lt;/p&gt;&lt;/li&gt;

	  &lt;li&gt;&lt;p&gt;Early Adapter's Area
	  &lt;/p&gt;&lt;/li&gt;

	  &lt;li&gt;&lt;p&gt;Workshops
	  &lt;/p&gt;&lt;/li&gt;
          
          
	&lt;/ul&gt;

&lt;p&gt;16:30, Group photo outside Quantum&lt;/p&gt;

&lt;p&gt;Use the #JavaLand twitter handle.&lt;/p&gt;

&lt;p&gt;German speaking JavaLand slack group
#jlca.  &lt;a href=&quot;https://slackin-jvm-german.herokuapp.com/&quot;&gt;Click
    here&lt;/a&gt;.  Ask here where you can win a robot.&lt;/p&gt;

&lt;p&gt;This year they had a JavaLand4Kids day before the conference.&lt;/p&gt;

&lt;p&gt;Some more numbers about speakers, staff, exhititors,
  sponsors, student helpers.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;He specially called out that he invited Oracle to be a sponsor, but
    they declined.&lt;/strong&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Digitialization of the REWE Group&lt;/p&gt;

&lt;p&gt;Mentioned the importance of being a good server leader.  So glad to
  see him mention this.&lt;/p&gt;

&lt;p&gt;Three big digitializaion efforts before joining REWE.  Related his
recruitment story from REWE group.  Key point: never compromise, at all.
But this is in conflict with the notion of being a servant leader.  He
keeps mentioning that life is short.  Mentions you are only as good as
  you think you are.&lt;/p&gt;

&lt;p&gt;Listed some business numbers for REWE.  Lines of business: Food
  retail, Tourism, DIY.&lt;/p&gt;

&lt;p&gt;Car analogy: if the car keeps driving ok, why fix it?&lt;/p&gt;

&lt;p&gt;What does he mean by digitalizaion?  Related ProMarkt story: Metaphor
of Bezos cuckold story.  Basically: take on the &quot;software is eating the
world&quot; meme and reorganize the company according to it.  Story: how he
asked them to change the company car policy.  This is an example of the
  changes he was trying to bring.&lt;/p&gt;

&lt;p&gt;Similar story: the corporate suite and the whiteboard: he did not
  compromise.&lt;/p&gt;

&lt;p&gt;I would like to him to give more details of what they do from day to
  day.  It was all about the environment.&lt;/p&gt;

&lt;p&gt;Now he gets to it.  Slide showing non-digital businesses and
corresponding digitalized business.  Old: World of Music, ProMarkt,
Gortz, Morrisons.  New: iTunes, Spotify, amazon, zalando, ocado.
Mentioned the he will sell his Morrisons shares short.  Morrisons: they
compromised by partnering with Ocado and Amazon.  They are giving all of
their knowledge away to someone who is going to eat you in the next
years.&lt;/p&gt;

&lt;p&gt;Have to rethink the whole business.  Starting with: what is a store?
He thinks of it as a mini warehouse that is perfectly positioned in
neighborhoods.  Difference between self service business and service
business.  Gave an aside: build your technology yourself.  Don't buy
  from vendors, otherwise you become too constrained.&lt;/p&gt;</content><author><name></name></author><summary type="html">Fried Saacke, kicked off JavaLand 2017 today. It's totally full, and in a new theater within Fantasialand. We have 110 lectures, 8 workshop sessions, and 16 community activities this year. He admitted that not everything will go as smoothly as we might like, but we are doing the best. The biggest practical challenge is throughput.</summary></entry><entry><title type="html">Devoxx JAX-RS 2.1</title><link href="/blog/2017/03/23/devoxx-jax-rs.html" rel="alternate" type="text/html" title="Devoxx JAX-RS 2.1" /><published>2017-03-23T14:00:00-04:00</published><updated>2017-03-23T14:00:00-04:00</updated><id>/blog/2017/03/23/devoxx-jax-rs</id><content type="html" xml:base="/blog/2017/03/23/devoxx-jax-rs.html">&lt;p&gt;Raw notes from &lt;a href=&quot;https://twitter.com/spericas&quot;&gt;Santiago Pericas-Geertsen's&lt;/a&gt; JAX-RS 2.1 Reloaded&lt;/p&gt;

&lt;p&gt;Quick update on this latest &quot;minor revision&quot;.&lt;/p&gt;

&lt;p&gt;Reactive Extensions.  Fits really well with JAX-RS API.&lt;/p&gt;

&lt;p&gt;Server-Sent Events&lt;/p&gt;

&lt;p&gt;Non-Blocking IO&lt;/p&gt;

&lt;h2&gt;Reactive Extensions&lt;/h2&gt;

&lt;p&gt;Asynchronous Processing in 2.0&lt;/p&gt;

&lt;p&gt;Server Side &lt;code&gt;@Suspended&lt;/code&gt;
  and &lt;code&gt;AsyncResponse&lt;/code&gt;. Resume execution on a different thread.&lt;/p&gt;

&lt;p&gt;Client side &lt;code&gt;Future&amp;lt;T&amp;gt;&lt;/code&gt;.
  And &lt;code&gt;InvocationCallback&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Use of &lt;code&gt;async&lt;/code&gt; in the midst of builders allows the delay
  of the invocation.  Future doesn't allow you to know when it is safe
  to call &lt;code&gt;get&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;code&gt;InvocationCallback&lt;/code&gt; allows you to pass in the thing to
call when it effectively is safe to call get.  But this doesn't easily
allow composition: where the value for step 1 needs to be taken into
  account in step 2, for example.  &quot;pyramid of doom&quot;.&lt;/p&gt;

&lt;p&gt;Some more use cases: composition, combining values, consume values of
  asyncronous tasks.&lt;/p&gt;

&lt;p&gt;Now we can use &lt;code&gt;CompletionStage&amp;lt;&amp;gt;&lt;/code&gt;.  This fit really
well bscause we didn't have to invent a new type, as we did
  with &lt;code&gt;InvocationCallback&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Turns out that you might want to use RxJava, or some other Rx
  thing.&lt;/p&gt;

&lt;p&gt;Two step process.  1. register a provider, 2. Override the default
Invoker.&lt;/p&gt;

&lt;p&gt;The ability to do this is an extension for JAX-RS.  Impls are not
  required.&lt;/p&gt;

&lt;h2&gt;Server-Sent Events&lt;/h2&gt;

&lt;p&gt;Wanted to add in JAX-RS 2, now getting to it in 2.1.&lt;/p&gt;

&lt;p&gt;Reviewed the basics of SSE.  Now maintained by WHATWG.&lt;/p&gt;

&lt;p&gt;Client API: get an &lt;code&gt;SseEventSource&lt;/code&gt; target.  Subscribe to
it, passing in the handler.  Open the event source.  It
  is &lt;code&gt;AutoClosable&lt;/code&gt;, so you can use try with resources.&lt;/p&gt;

&lt;p&gt;Server API: &lt;code&gt;SseEventSink&lt;/code&gt; and &lt;code&gt;Sse&lt;/code&gt;.  These
can be passed to resource methods as &lt;code&gt;@Context&lt;/code&gt; annotated
arguments.  &lt;code&gt;SseBroadcaster&lt;/code&gt; and &lt;code&gt;@Singleton&lt;/code&gt;
annotation.  The former is created by your application, not the runtime.
You can use it to connect clients to the sse pipe, and also use it to
  broadcast events when you have them.&lt;/p&gt;

&lt;h2&gt;Non-Blocking IO&lt;/h2&gt;

&lt;p&gt;Motivation: enable higher throughput and more control over IO.&lt;/p&gt;

&lt;h2&gt;NIO Server&lt;/h2&gt;

&lt;p&gt;The existing &lt;code&gt;StreamingOutput&lt;/code&gt; was still blocking.&lt;/p&gt;

&lt;p&gt;Showed some iterations of NIO proposals.  They suffered from
operating at the level of byte streams, also it was hard to integrate
  with the JAX-RS pipeline.&lt;/p&gt;

&lt;p&gt;Current proposal: Java 9 Flows.  We want to use it.  So we are
creating copies of the required APIs.  You don't have to use bytes.  You
  can use objects.  You can integrate with third party libraries.&lt;/p&gt;

&lt;p&gt;Pattern: Publisher, Subscriber, Processor.  How does this relate to
  JAX-RS?&lt;/p&gt;

&lt;p&gt;Why and how to NIO?  It's more complicated code.  But it's useful for
large payloads, which often involve collections.  A collection of Pojos
  is a &lt;code&gt;Publisher&amp;lt;Pojo&amp;gt;&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Added a
new &lt;code&gt;MessageBodyReader&lt;/code&gt;: &lt;code&gt;NioBodyReader&lt;/code&gt;.  Same
  for writer.&lt;/p&gt;

&lt;p&gt;What about Filters and Interceptors?  Still being discussed, but he
  did commit to having the feature in there.&lt;/p&gt;

&lt;h3&gt;NIO Clients&lt;/h3&gt;

&lt;p&gt;Need a new &lt;code&gt;Invoker&lt;/code&gt;.  Add &lt;code&gt;nio()&lt;/code&gt; method you
  can throw in the builder chain, and then use the normal Flow API.&lt;/p&gt;

&lt;h2&gt;Naming&lt;/h2&gt;

&lt;p&gt;Publisher = Source, Subscriber = Sink.  This lends itself to SSE.
  You can think of SSE as a special case of NIO.  An SSE connection is
  just a Flow of SSE Events.&lt;/p&gt;</content><author><name></name></author><summary type="html">Raw notes from Santiago Pericas-Geertsen's JAX-RS 2.1 Reloaded</summary></entry><entry><title type="html">Devoxx Deep Learning</title><link href="/blog/2017/03/22/deep-learning.html" rel="alternate" type="text/html" title="Devoxx Deep Learning" /><published>2017-03-22T18:25:00-04:00</published><updated>2017-03-22T18:25:00-04:00</updated><id>/blog/2017/03/22/deep-learning</id><content type="html" xml:base="/blog/2017/03/22/deep-learning.html">&lt;p&gt;Raw notes from &lt;a href=&quot;https://twitter.com/agibsonccc&quot;&gt;Adam
Gibson's&lt;/a&gt; Deep Learning in Production.&lt;/p&gt;

&lt;p&gt;Defining Production: It's different for a startup from an enterprise,
and different from academia.  Each have their own set of tools and
  expectations.&lt;/p&gt;

&lt;p&gt;GPU clusters.  On prem research: something flexible and quick.  Not
much need for complexity management.  Python HPC stack.  C sometimes
  used for new neural networks.&lt;/p&gt;

&lt;p&gt;Cloud research: AWS/Azure spin up resources as needed.&lt;/p&gt;

&lt;p&gt;On Prem production: HPC, Video transcoding.  They use a lot of GPUs.
  They also use resource schedulers: MESOS and YARN.&lt;/p&gt;

&lt;p&gt;I must have missed when he talked about how GPUs are essential for
  this space.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Hadoop: HDFS and ZooKeeper.  16:39.&lt;/p&gt;

&lt;p&gt;Two modes: training and inference (using a model as an API).  GPUs
  are specialized for matrix computations.&lt;/p&gt;

&lt;p&gt;It started to become difficult to follow due to lots of hopping
  around without defining the terms well enough, or at all.  It must be
  my ignorance of the space.&lt;/p&gt;

&lt;p&gt;At least he showed us how to pronounce Lagom.  It's log-AHM.&lt;/p&gt;

&lt;p&gt;Training models is difficult and expensive.  This is why you need a
  specialized chip.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;ETL: Extract Transform Load.&lt;/p&gt;

&lt;p&gt;Neural nets are made up of Tensors. &lt;a href=&quot;https://en.wikipedia.org/wiki/MNIST_database&quot;&gt;MNIST&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Problems to think about on a GPU cluster:&lt;/p&gt;

	&lt;ul&gt;

	  &lt;li&gt;&lt;p&gt;Memory management.  Each GPU doesn't have that much
	      RAM, so you have to shard your problem.&lt;/p&gt;&lt;/li&gt;

	  &lt;li&gt;&lt;p&gt;Throughput
	  &lt;/p&gt;&lt;/li&gt;

	  &lt;li&gt;&lt;p&gt;Resource provisioning
	  &lt;/p&gt;&lt;/li&gt;

          &lt;li&gt;&lt;p&gt;GPU allocation for job.
	  &lt;/p&gt;&lt;/li&gt;

	&lt;/ul&gt;

&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/CUDA&quot;&gt;CUDA&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;</content><author><name></name></author><summary type="html">Raw notes from Adam Gibson's Deep Learning in Production.</summary></entry><entry><title type="html">Devoxx Cloud Debugging</title><link href="/blog/2017/03/22/cloud-debugging.html" rel="alternate" type="text/html" title="Devoxx Cloud Debugging" /><published>2017-03-22T18:20:00-04:00</published><updated>2017-03-22T18:20:00-04:00</updated><id>/blog/2017/03/22/cloud-debugging</id><content type="html" xml:base="/blog/2017/03/22/cloud-debugging.html">&lt;p&gt;Raw notes from Cloud Debugging
with &lt;a href=&quot;http://twitter.com/patricknflynn&quot;&gt;Patrick Flynn&lt;/a&gt;.  Java
Tools Tech Lead on Java Cloud Platform.&lt;/p&gt;

&lt;p&gt;Picture from good old days, 2003.  Hardware was very manual.
Purchase orders, procurement, six months later.  Cork board to separate
  motherboards.&lt;/p&gt;

&lt;p&gt;Tooling was also not good back then.&lt;/p&gt;

&lt;p&gt;Did show of hands about who is doing deployments by hand.&lt;/p&gt;

&lt;p&gt;Today, we can provision in a matter of seconds.  Great network
infrastructure, great physical security, but if you are deploying
  manually, you are still not getting all the benefits.&lt;/p&gt;


&lt;p&gt;Asserts that spring boot is the platform of choice in the community
right now.  Deployed as jars, not wars.  Demo.
Takes &lt;code&gt;DataStore&lt;/code&gt;, a google cloud platform feature.  Puts a
  value to the data store and displays it.&lt;/p&gt;

&lt;p&gt;Mutates the demo to add translation.  It is a available as a maven
dependency in maven central.  Had to look up the javadoc, out of the
IDE.  Restarted spring boot because of dependency added.  Added language
  detection iteratively.&lt;/p&gt;

&lt;p&gt;Google cloud tools for intellij has support for a number of services.
  Plugged these heavily.  Cloud source repositories, for example.&lt;/p&gt;

&lt;p&gt;App Engine Flex.  Create Deployment Configuration: Went through lots
of the fields in this dialog.  Points: Good maven support.  Need an
appengine-web.xml.  On build, this actually orchestrates a Docker build.
The system looks at the project type and chooses the right Docker image
  to run it.  This is a bit slower than App Engine Standard.&lt;/p&gt;

&lt;p&gt;Mentioned the vendor lock in concern.  App Engine Flex is not a
walled garden.  It allows running arbitrary APIs.  Because it depends on
  Docker, you can take your output to any other cloud.&lt;/p&gt;

&lt;p&gt;Google built Borg as a container running service.  Kubernetes was
informed by the design of Borg.  How do you run the Spring Boot demo on
Kubernetes?  He went into the gcloud CLI and created a bunch of stuff to
  run it.  This is entirely separate from App Engine Flex.  &lt;/p&gt;


&lt;p&gt;Showed how the debugger gets enabled: Adding the cloud debugger agent
into the Dockerfile.  The service name and the project file are included
  in the dockerfile so the debugger knows about it.&lt;/p&gt;

&lt;p&gt;Supports GitHub integration.&lt;/p&gt;

&lt;p&gt;Demo used the spotify Docker Maven Plugin.  Need to include
source-context.json and source-contexts.json.  Demo also includes a
docker push to the container registry for the google cloud
  project.  Did the mvn deploy from the cloud platform machine.&lt;/p&gt;

&lt;p&gt;Additional kubernetes steps: Expose load balancer.  &lt;/p&gt;

&lt;p&gt;Showed lots of mutations of the config on kubernetes and App Engine
Flex.  Showed how easy traffic splitting, canary testing, and
  versioning works.&lt;/p&gt;


&lt;p&gt;Used Apache Bench to generate load.&lt;/p&gt;

&lt;p&gt;With no time left, he finally got to the debugging.  Bug: reporting
wrong user agent.  Shows how in Intellij you can attach to running
instances.  It syncs the source to what is actually running in the
cloud.  This works because the agent captures what the breakpoints are,
captures the sample at the time when it is hit.  It is not interactive
debugging.  You can't step.  But it's still better than nothing.&lt;/p&gt;</content><author><name></name></author><summary type="html">Raw notes from Cloud Debugging with Patrick Flynn. Java Tools Tech Lead on Java Cloud Platform.</summary></entry></feed>